# System Architecture Diagram ğŸ—ï¸

## ğŸ“ Complete System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         BUFOOD E-COMMERCE SYSTEM                         â”‚
â”‚                     Product Variants, Cart & Favorites                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              FRONTEND (React)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   SELLER COMPONENTS     â”‚        â”‚   CUSTOMER COMPONENTS        â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                         â”‚        â”‚                              â”‚   â”‚
â”‚  â”‚  ManageVariantsPage     â”‚        â”‚  SingleProductPageWith       â”‚   â”‚
â”‚  â”‚  â”œâ”€ Add Variant         â”‚        â”‚  Variants                    â”‚   â”‚
â”‚  â”‚  â”œâ”€ Edit Variant        â”‚        â”‚  â”œâ”€ View Variants           â”‚   â”‚
â”‚  â”‚  â”œâ”€ Upload Images       â”‚        â”‚  â”œâ”€ Select Variant          â”‚   â”‚
â”‚  â”‚  â”œâ”€ Set Price/Stock     â”‚        â”‚  â”œâ”€ Add to Cart             â”‚   â”‚
â”‚  â”‚  â””â”€ Save All            â”‚        â”‚  â””â”€ Add to Favorites        â”‚   â”‚
â”‚  â”‚                         â”‚        â”‚                              â”‚   â”‚
â”‚  â”‚  AddProductPage         â”‚        â”‚  CartPage                    â”‚   â”‚
â”‚  â”‚  â””â”€ Create Product      â”‚        â”‚  â””â”€ View Cart Items         â”‚   â”‚
â”‚  â”‚                         â”‚        â”‚                              â”‚   â”‚
â”‚  â”‚  ProductListPage        â”‚        â”‚  FavoritesPage               â”‚   â”‚
â”‚  â”‚  â””â”€ Manage Products     â”‚        â”‚  â””â”€ View Favorites          â”‚   â”‚
â”‚  â”‚                         â”‚        â”‚                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â”‚ HTTP Requests (axios)
                               â”‚ JWT/Supabase Auth
                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         BACKEND (Node.js + Express)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                         API ROUTES                                â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                                   â”‚  â”‚
â”‚  â”‚  /api/products              /api/cart              /api/favoritesâ”‚  â”‚
â”‚  â”‚  â”œâ”€ POST /                  â”œâ”€ POST /add           â”œâ”€ POST /     â”‚  â”‚
â”‚  â”‚  â”œâ”€ GET /:id                â”œâ”€ GET /               â”œâ”€ GET /      â”‚  â”‚
â”‚  â”‚  â”œâ”€ PUT /:id                â”œâ”€ DELETE /:itemId     â”œâ”€ DELETE /:idâ”‚  â”‚
â”‚  â”‚  â””â”€ DELETE /:id             â””â”€ PUT /update         â””â”€ GET /check â”‚  â”‚
â”‚  â”‚                                                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                      â”‚                  â”‚                  â”‚           â”‚
â”‚                      â–¼                  â–¼                  â–¼           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                        CONTROLLERS                                â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                                   â”‚  â”‚
â”‚  â”‚  productController      cartController      favoriteController   â”‚  â”‚
â”‚  â”‚  â”œâ”€ createProduct        â”œâ”€ addToCart       â”œâ”€ addToFavorites   â”‚  â”‚
â”‚  â”‚  â”œâ”€ getProductById       â”œâ”€ getCart         â”œâ”€ getFavorites     â”‚  â”‚
â”‚  â”‚  â”œâ”€ updateProduct        â”œâ”€ removeFromCart  â”œâ”€ removeFromFav    â”‚  â”‚
â”‚  â”‚  â””â”€ deleteProduct        â””â”€ updateCart      â””â”€ checkFavorite    â”‚  â”‚
â”‚  â”‚                                                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                      â”‚                  â”‚                  â”‚           â”‚
â”‚                      â”‚   Mongoose ODM   â”‚                  â”‚           â”‚
â”‚                      â”‚                  â”‚                  â”‚           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚                  â”‚                  â”‚
                       â–¼                  â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         DATABASE (MongoDB)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   PRODUCTS       â”‚  â”‚      CARTS       â”‚  â”‚     FAVORITES        â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ _id              â”‚  â”‚ _id              â”‚  â”‚ _id                  â”‚ â”‚
â”‚  â”‚ name             â”‚  â”‚ user (ref)       â”‚  â”‚ user (ref)           â”‚ â”‚
â”‚  â”‚ price            â”‚  â”‚ items[]          â”‚  â”‚ items[]              â”‚ â”‚
â”‚  â”‚ image            â”‚  â”‚  â”œâ”€ product      â”‚  â”‚  â”œâ”€ product (ref)   â”‚ â”‚
â”‚  â”‚ variants[]       â”‚  â”‚  â”œâ”€ variantId    â”‚  â”‚  â”œâ”€ variantId       â”‚ â”‚
â”‚  â”‚  â”œâ”€ id           â”‚  â”‚  â”œâ”€ quantity     â”‚  â”‚  â”œâ”€ variantName     â”‚ â”‚
â”‚  â”‚  â”œâ”€ name         â”‚  â”‚  â”œâ”€ price        â”‚  â”‚  â””â”€ addedAt         â”‚ â”‚
â”‚  â”‚  â”œâ”€ price        â”‚  â”‚  â””â”€ subtotal     â”‚  â”‚                      â”‚ â”‚
â”‚  â”‚  â”œâ”€ image        â”‚  â”‚ total            â”‚  â”‚ createdAt            â”‚ â”‚
â”‚  â”‚  â”œâ”€ stock        â”‚  â”‚ createdAt        â”‚  â”‚ updatedAt            â”‚ â”‚
â”‚  â”‚  â””â”€ isAvailable  â”‚  â”‚ updatedAt        â”‚  â”‚                      â”‚ â”‚
â”‚  â”‚ sellerId (ref)   â”‚  â”‚                  â”‚  â”‚                      â”‚ â”‚
â”‚  â”‚ createdAt        â”‚  â”‚                  â”‚  â”‚                      â”‚ â”‚
â”‚  â”‚ updatedAt        â”‚  â”‚                  â”‚  â”‚                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      EXTERNAL SERVICES                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   CLOUDINARY     â”‚                    â”‚   SUPABASE AUTH          â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ Image Storage    â”‚                    â”‚ User Authentication      â”‚  â”‚
â”‚  â”‚ - Product Images â”‚                    â”‚ - JWT Tokens             â”‚  â”‚
â”‚  â”‚ - Variant Images â”‚                    â”‚ - Session Management     â”‚  â”‚
â”‚  â”‚ - Optimization   â”‚                    â”‚ - Email Verification     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow Diagrams

### Flow 1: Seller Creates Product with Variants

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SELLER    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1. Creates Product
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AddProductPage         â”‚
â”‚  - Name: "Mascara"      â”‚
â”‚  - Price: â‚±119          â”‚
â”‚  - Upload main image    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 2. POST /api/products
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  productController      â”‚
â”‚  - Validates data       â”‚
â”‚  - Uploads to Cloudinaryâ”‚
â”‚  - Saves to MongoDB     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 3. Product Created
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ManageVariantsPage     â”‚
â”‚  - Add Variant 1        â”‚
â”‚    â€¢ Name: "Black"      â”‚
â”‚    â€¢ Price: â‚±119        â”‚
â”‚    â€¢ Stock: 10          â”‚
â”‚    â€¢ Upload image       â”‚
â”‚  - Add Variant 2        â”‚
â”‚    â€¢ Name: "Silver"     â”‚
â”‚    â€¢ Price: â‚±139        â”‚
â”‚    â€¢ Stock: 8           â”‚
â”‚    â€¢ Upload image       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 4. PUT /api/products/:id
       â”‚    { variants: [...] }
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  productController      â”‚
â”‚  - Validates variants   â”‚
â”‚  - Auto-generates IDs   â”‚
â”‚  - Updates product      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 5. Variants Saved
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MongoDB Products       â”‚
â”‚  {                      â”‚
â”‚    name: "Mascara",     â”‚
â”‚    variants: [          â”‚
â”‚      {                  â”‚
â”‚        id: "black-abc1",â”‚
â”‚        name: "Black",   â”‚
â”‚        price: 119,      â”‚
â”‚        stock: 10        â”‚
â”‚      },                 â”‚
â”‚      {                  â”‚
â”‚        id: "silver-xyz",â”‚
â”‚        name: "Silver",  â”‚
â”‚        price: 139,      â”‚
â”‚        stock: 8         â”‚
â”‚      }                  â”‚
â”‚    ]                    â”‚
â”‚  }                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Flow 2: Customer Adds Variant to Cart

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CUSTOMER   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1. Views Product
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SingleProductPageWithVariants  â”‚
â”‚  - Product: "Mascara"           â”‚
â”‚  - Variants:                    â”‚
â”‚    â—‹ Black - â‚±119               â”‚
â”‚    â—‹ Silver - â‚±139              â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 2. Selects "Black" variant
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  UI Updates                     â”‚
â”‚  - Price: â‚±119                  â”‚
â”‚  - Image: black.jpg             â”‚
â”‚  - Stock: 10 available          â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 3. Sets quantity: 2
       â”‚ 4. Clicks "Add to Cart"
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend Validation            â”‚
â”‚  âœ“ Variant selected             â”‚
â”‚  âœ“ Stock available (10 >= 2)    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 5. POST /api/cart/add
       â”‚    {
       â”‚      productId: "...",
       â”‚      quantity: 2,
       â”‚      selectedVariantId: "black-abc1"
       â”‚    }
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  cartController.addToCart       â”‚
â”‚  1. Validate product exists     â”‚
â”‚  2. Validate variant exists     â”‚
â”‚  3. Check stock: 10 >= 2 âœ“      â”‚
â”‚  4. Find user's cart            â”‚
â”‚  5. Check if same product+      â”‚
â”‚     variant already in cart     â”‚
â”‚     - If yes: Update quantity   â”‚
â”‚     - If no: Add new item       â”‚
â”‚  6. Calculate subtotal: 119Ã—2   â”‚
â”‚  7. Update cart total           â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 6. Cart Updated
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MongoDB Carts                  â”‚
â”‚  {                              â”‚
â”‚    user: "customer123",         â”‚
â”‚    items: [                     â”‚
â”‚      {                          â”‚
â”‚        product: "productId",    â”‚
â”‚        selectedVariantId:       â”‚
â”‚          "black-abc1",          â”‚
â”‚        quantity: 2,             â”‚
â”‚        price: 119,              â”‚
â”‚        subtotal: 238            â”‚
â”‚      }                          â”‚
â”‚    ],                           â”‚
â”‚    total: 238                   â”‚
â”‚  }                              â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 7. Success Response
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend UI                    â”‚
â”‚  âœ“ Success message displayed    â”‚
â”‚  âœ“ Cart icon updated            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Flow 3: Customer Adds to Favorites

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CUSTOMER   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1. On Product Page
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SingleProductPageWithVariants  â”‚
â”‚  - Product: "Mascara"           â”‚
â”‚  - Selected: "Silver" variant   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 2. Clicks heart icon
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend                       â”‚
â”‚  - Checks if already favorited  â”‚
â”‚  - If not, sends request        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 3. POST /api/favorites
       â”‚    {
       â”‚      productId: "...",
       â”‚      variantId: "silver-xyz",
       â”‚      variantName: "Silver"
       â”‚    }
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  favoriteController             â”‚
â”‚  1. Validate product exists     â”‚
â”‚  2. Find/create favorites list  â”‚
â”‚  3. Check if already favorited  â”‚
â”‚     - If yes: Return error      â”‚
â”‚     - If no: Add to list        â”‚
â”‚  4. Save favorites              â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 4. Favorite Added
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MongoDB Favorites              â”‚
â”‚  {                              â”‚
â”‚    user: "customer123",         â”‚
â”‚    items: [                     â”‚
â”‚      {                          â”‚
â”‚        product: "productId",    â”‚
â”‚        variantId: "silver-xyz", â”‚
â”‚        variantName: "Silver",   â”‚
â”‚        addedAt: "2025-01-16"    â”‚
â”‚      }                          â”‚
â”‚    ]                            â”‚
â”‚  }                              â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 5. Success Response
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend UI                    â”‚
â”‚  âœ“ Heart icon turns red         â”‚
â”‚  âœ“ "Added to favorites" message â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—‚ï¸ File Structure

```
BuFood/
â”‚
â”œâ”€â”€ backend-api/
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ productModel.js         âœ… Updated (variants)
â”‚   â”‚   â”œâ”€â”€ cartModel.js            âœ… Existing (variant support)
â”‚   â”‚   â””â”€â”€ favoriteModel.js        âœ… NEW
â”‚   â”‚
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ productController.js    âœ… Existing
â”‚   â”‚   â”œâ”€â”€ cartController.js       âœ… Existing
â”‚   â”‚   â””â”€â”€ favoriteController.js   âœ… NEW
â”‚   â”‚
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ productRoutes.js        âœ… Existing
â”‚   â”‚   â”œâ”€â”€ cartRoutes.js           âœ… Existing
â”‚   â”‚   â””â”€â”€ favoriteRoutes.js       âœ… NEW
â”‚   â”‚
â”‚   â””â”€â”€ server.js                   âœ… Updated
â”‚
â”œâ”€â”€ frontend/
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ seller/
â”‚       â”‚   â”œâ”€â”€ ManageVariantsPage.jsx      âœ… NEW
â”‚       â”‚   â”œâ”€â”€ AddProductPage.jsx          âœ… Existing
â”‚       â”‚   â””â”€â”€ ProductListPage.jsx         âœ… Existing
â”‚       â”‚
â”‚       â”œâ”€â”€ customer/
â”‚       â”‚   â”œâ”€â”€ SingleProductPageWithVariants.jsx  âœ… NEW
â”‚       â”‚   â”œâ”€â”€ CartPage.jsx                       âœ… Existing
â”‚       â”‚   â””â”€â”€ FavoritesPage.jsx                  âœ… To be created
â”‚       â”‚
â”‚       â””â”€â”€ api.js                          âœ… Update with favorites
â”‚
â””â”€â”€ Documentation/
    â”œâ”€â”€ VARIANTS_CART_FAVORITES_SYSTEM.md        âœ… Complete docs
    â”œâ”€â”€ QUICK_IMPLEMENTATION_GUIDE.md            âœ… Setup guide
    â”œâ”€â”€ IMPLEMENTATION_SUMMARY.md                âœ… Summary
    â””â”€â”€ SYSTEM_ARCHITECTURE_DIAGRAM.md           âœ… This file
```

---

## ğŸ¯ Component Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SELLER WORKFLOW                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  AddProductPage â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º ProductListPage                â”‚
â”‚       â”‚                            â”‚                        â”‚
â”‚       â”‚ Creates                    â”‚ Manages                â”‚
â”‚       â”‚ Product                    â”‚ Products               â”‚
â”‚       â–¼                            â–¼                        â”‚
â”‚  Product Created â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º ManageVariantsPage            â”‚
â”‚                                     â”‚                       â”‚
â”‚                                     â”‚ Adds/Edits            â”‚
â”‚                                     â”‚ Variants              â”‚
â”‚                                     â–¼                       â”‚
â”‚                              Product with Variants          â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   CUSTOMER WORKFLOW                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ProductListPage â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º SingleProductPageWithVariants â”‚
â”‚       â”‚                              â”‚         â”‚            â”‚
â”‚       â”‚ Browse                       â”‚         â”‚            â”‚
â”‚       â”‚ Products                     â”‚         â”‚            â”‚
â”‚       â”‚                              â–¼         â–¼            â”‚
â”‚       â”‚                         Add to    Add to            â”‚
â”‚       â”‚                          Cart    Favorites          â”‚
â”‚       â”‚                              â”‚         â”‚            â”‚
â”‚       â”‚                              â–¼         â–¼            â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º CartPage  FavoritesPage     â”‚
â”‚                                     â”‚                       â”‚
â”‚                                     â”‚ Checkout              â”‚
â”‚                                     â–¼                       â”‚
â”‚                                OrderPage                    â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Authentication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    USER      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1. Login
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Supabase Auth      â”‚
â”‚  - Email/Password   â”‚
â”‚  - JWT Token        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 2. Token Stored
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  localStorage       â”‚
â”‚  token: "jwt..."    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 3. All API Requests
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  API Headers        â”‚
â”‚  Authorization:     â”‚
â”‚  Bearer {token}     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 4. Middleware
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  authenticateWith   â”‚
â”‚  Supabase           â”‚
â”‚  - Verifies token   â”‚
â”‚  - Attaches user    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 5. Authorized
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Controller         â”‚
â”‚  req.user available â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Database Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    USERS     â”‚
â”‚ _id          â”‚
â”‚ name         â”‚
â”‚ email        â”‚
â”‚ role         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ One-to-Many
       â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                                 â”‚
       â–¼                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   PRODUCTS   â”‚                  â”‚    CARTS     â”‚
â”‚ _id          â”‚                  â”‚ _id          â”‚
â”‚ name         â”‚                  â”‚ user â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â–º User
â”‚ variants[]   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ items[]      â”‚
â”‚ sellerId â”€â”€â”€â”€â”¼â”€â”€â–º User          â”‚  product â”€â”€â”€â”€â”¼â”€â”€â–º Product
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚  variantId   â”‚
       â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Referenced by
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FAVORITES   â”‚
â”‚ _id          â”‚
â”‚ user â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â–º User
â”‚ items[]      â”‚
â”‚  product â”€â”€â”€â”€â”¼â”€â”€â–º Product
â”‚  variantId   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ UI Component Hierarchy

```
App
â”‚
â”œâ”€â”€ Seller Routes
â”‚   â”œâ”€â”€ SellerDashboard
â”‚   â”œâ”€â”€ AddProductPage
â”‚   â”œâ”€â”€ ProductListPage
â”‚   â”‚   â””â”€â”€ ProductCard
â”‚   â”‚       â””â”€â”€ [Manage Variants Button]
â”‚   â”‚
â”‚   â””â”€â”€ ManageVariantsPage
â”‚       â”œâ”€â”€ ProductInfo
â”‚       â”œâ”€â”€ VariantsList
â”‚       â”‚   â””â”€â”€ VariantCard
â”‚       â”‚       â”œâ”€â”€ VariantImage
â”‚       â”‚       â”œâ”€â”€ VariantForm
â”‚       â”‚       â””â”€â”€ VariantActions
â”‚       â””â”€â”€ SaveButton
â”‚
â””â”€â”€ Customer Routes
    â”œâ”€â”€ HomePage
    â”œâ”€â”€ ProductListPage
    â”‚   â””â”€â”€ ProductCard
    â”‚
    â”œâ”€â”€ SingleProductPageWithVariants
    â”‚   â”œâ”€â”€ ProductHeader
    â”‚   â”‚   â”œâ”€â”€ BackButton
    â”‚   â”‚   â””â”€â”€ FavoriteButton
    â”‚   â”œâ”€â”€ ProductImage
    â”‚   â”œâ”€â”€ ProductInfo
    â”‚   â”œâ”€â”€ VariantsSection
    â”‚   â”‚   â””â”€â”€ VariantCard[]
    â”‚   â”œâ”€â”€ QuantitySelector
    â”‚   â””â”€â”€ AddToCartButton
    â”‚
    â”œâ”€â”€ CartPage
    â”‚   â””â”€â”€ CartItem[]
    â”‚       â”œâ”€â”€ ProductInfo
    â”‚       â”œâ”€â”€ VariantInfo
    â”‚       â””â”€â”€ QuantityControls
    â”‚
    â””â”€â”€ FavoritesPage
        â””â”€â”€ FavoriteItem[]
            â”œâ”€â”€ ProductInfo
            â”œâ”€â”€ VariantInfo
            â””â”€â”€ RemoveButton
```

---

## ğŸš€ Deployment Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PRODUCTION SETUP                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   FRONTEND   â”‚         â”‚   BACKEND    â”‚         â”‚   DATABASE   â”‚
â”‚              â”‚         â”‚              â”‚         â”‚              â”‚
â”‚  Vercel/     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  Render/     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  MongoDB     â”‚
â”‚  Netlify     â”‚  HTTPS  â”‚  Railway     â”‚  Secure â”‚  Atlas       â”‚
â”‚              â”‚         â”‚              â”‚  Connectâ”‚              â”‚
â”‚  React App   â”‚         â”‚  Express API â”‚         â”‚  Collections â”‚
â”‚  Static      â”‚         â”‚  Node.js     â”‚         â”‚  - Products  â”‚
â”‚  Assets      â”‚         â”‚  REST API    â”‚         â”‚  - Carts     â”‚
â”‚              â”‚         â”‚              â”‚         â”‚  - Favorites â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                        â”‚
       â”‚                        â”‚
       â–¼                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CLOUDINARY  â”‚         â”‚   SUPABASE   â”‚
â”‚              â”‚         â”‚              â”‚
â”‚  Image CDN   â”‚         â”‚  Auth        â”‚
â”‚  Storage     â”‚         â”‚  JWT Tokens  â”‚
â”‚  Transform   â”‚         â”‚  Sessions    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

This architecture provides a **complete, scalable, and production-ready** system for handling product variants, shopping cart, and favorites in your e-commerce application! ğŸ‰
